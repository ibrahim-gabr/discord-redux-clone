(this["webpackJsonpdiscord-redux-clone"]=this["webpackJsonpdiscord-redux-clone"]||[]).push([[0],{66:function(e,t,c){},70:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var s=c(3),n=c(2),a=c.n(n),l=c(20),i=c.n(l),r=(c(66),c(14)),o=(c(70),c(27)),j=c(47),d=c.n(j),b=c(48),x=c.n(b),h=c(41),u=c.n(h),m=c(45),f=c.n(m),p=c(46),O=c.n(p);var g=function(e){var t=e.channelName;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"chat__header absolute w-full top-0 bg-gray-800 z-10 flex px-4 py-4 justify-between ",children:[Object(s.jsxs)("div",{className:"flex-1 flex",children:[Object(s.jsx)("p",{className:"text-gray-600",children:"#"}),Object(s.jsx)("h3",{className:"text-white ml-2 ",children:t||""})]}),Object(s.jsxs)("div",{className:"flex text-gray-400 justify-between px-4",children:[Object(s.jsxs)("div",{className:"flex justify-between px-4",children:[Object(s.jsx)(u.a,{}),Object(s.jsx)(f.a,{}),Object(s.jsx)(O.a,{})]}),Object(s.jsxs)("div",{className:"flex  bg-gray-900 px-2",children:[Object(s.jsx)("input",{type:"text",placeholder:"Search ",className:"px-1 bg-transparent"}),Object(s.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),Object(s.jsxs)("div",{className:"flex  justify-between px-2",children:[Object(s.jsx)(d.a,{}),Object(s.jsx)(x.a,{})]})]})]})})},v=c(49),N=c.n(v),y=c(50),w=c.n(y),_=c(51),S=c.n(_),k=c(52),C=c.n(k),I=c(88);var z=function(e){var t,c=e.user,n=e.message;return Object(s.jsxs)("div",{className:"messages flex justify-between p-4 w-full ",children:[Object(s.jsx)(I.a,{src:c.photo}),Object(s.jsxs)("div",{className:"message__info flex flex-col flex-1 pl-3",children:[Object(s.jsxs)("div",{className:"flex ",children:[Object(s.jsx)("h4",{className:"text-white",children:c.displayName}),Object(s.jsx)("p",{className:"text-gray-400 pl-3",children:new Date(null===(t=n.timestamp)||void 0===t?void 0:t.toDate()).toUTCString()})]}),Object(s.jsx)("div",{className:"text-gray-400",children:Object(s.jsx)("p",{children:n.message})})]})]})},L=c(22),A=L.a.initializeApp({apiKey:"AIzaSyAmnv9qj478IDVe8RIWs8S3HvgiJYrqTYQ",authDomain:"discord-redux-clone-18a1b.firebaseapp.com",projectId:"discord-redux-clone-18a1b",storageBucket:"discord-redux-clone-18a1b.appspot.com",messagingSenderId:"5519509974",appId:"1:5519509974:web:35527813b957999525fc77"}).firestore(),B=L.a.auth(),D=new L.a.auth.GoogleAuthProvider,E=A,T=c(21),W=Object(T.b)({name:"app",initialState:{channelId:null,channel:null},reducers:{setChannel:function(e,t){e.channelId=t.payload.id,e.channel=t.payload.channel}}}),F=W.actions.setChannel,M=function(e){return e.app.channelId},P=function(e){return e.app.channel},U=W.reducer,J=Object(T.b)({name:"user",initialState:{user:null},reducers:{loginUser:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),V=J.actions,q=V.loginUser,R=V.logout,Y=function(e){return e.user.user},G=J.reducer;var H=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],l=Object(r.c)(P),i=Object(r.c)(M),j=Object(r.c)(Y),d=Object(n.useState)(""),b=Object(o.a)(d,2),x=b[0],h=b[1];return Object(n.useEffect)((function(){i&&E.collection("channels").doc(i).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){a(e.docs.map((function(e){return e.data()})))}))}),[i]),Object(s.jsxs)("div",{className:"col-span-3 max-h-screen chat relative lg:col-span-4 flex flex-col justify-center ",children:[Object(s.jsx)(g,{channelName:null===l||void 0===l?void 0:l.channelName}),Object(s.jsx)("div",{className:"chat__messages flex-1 overflow-scroll w-full",children:null===c||void 0===c?void 0:c.map((function(e){return Object(s.jsx)(z,{user:j,message:e})}))}),Object(s.jsxs)("div",{className:"chat__input absolute bottom-0 flex justify-between z-10   bg-gray-700 p-4 w-full",children:[Object(s.jsxs)("div",{className:"flex-1 flex ",children:[Object(s.jsx)(N.a,{className:"text-white"}),Object(s.jsxs)("form",{className:"pl-2 flex-1",children:[Object(s.jsx)("input",{value:x,className:"w-full outline-none text-white bg-transparent",placeholder:"message #".concat((null===l||void 0===l?void 0:l.channelName)?l.channelName:"channel"),type:"text",onChange:function(e){return h(e.target.value)},disabled:!i}),Object(s.jsx)("button",{type:"submit",className:"hidden",onClick:function(e){return function(e){e.preventDefault(),E.collection("channels").doc(i).collection("messages").add({message:x,user:j,timestamp:L.a.firestore.FieldValue.serverTimestamp()}),h("")}(e)},disabled:!i,children:"Send Message"})]})]}),Object(s.jsxs)("div",{className:"flex text-white ",children:[Object(s.jsx)(w.a,{fontSize:"Large"}),Object(s.jsx)(S.a,{fontSize:"Large"}),Object(s.jsx)(C.a,{fontSize:"Large"})]})]})]})};var K=function(){return Object(s.jsxs)("div",{className:"grid place-items-center",children:[Object(s.jsx)("img",{src:"./discord.png",alt:""}),Object(s.jsx)("button",{onClick:function(){B.signInWithPopup(D).catch((function(e){return alert(e.message)}))},className:"bg-indigo-400 text-white px-16 py-2 text-xl hover:bg-indigo-700",children:"Login"})]})};var Q=function(e){var t=e.channel,c=e.id,n=Object(r.b)();return Object(s.jsxs)("div",{className:"sidebar__channel my-2 flex pl-4 flex-1 hover:text-white hover:bg-gray-600 text-lg py-3",onClick:function(){n(F({id:c,channel:t}))},children:[Object(s.jsx)("span",{className:" ",children:"#"}),Object(s.jsx)("h3",{className:"pl-2",children:t.channelName})]})},$=c(53),X=c.n($),Z=c(37),ee=c.n(Z),te=c(58),ce=c.n(te),se=c(57),ne=c.n(se),ae=c(55),le=c.n(ae),ie=c(56),re=c.n(ie),oe=c(54),je=c.n(oe);var de=function(){var e=Object(r.c)(Y),t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],l=c[1];return Object(r.b)(),Object(n.useEffect)((function(){E.collection("channels").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"sidebar sticky top-0  flex flex-col col-span-2 lg:col-span-1 h-screen bg-gray-900",children:[Object(s.jsxs)("div",{className:"sidebar__top text-white flex justify-between  p-4 border-gray-600 border-b-2",children:[Object(s.jsx)("h3",{children:"Clever Programmer"}),Object(s.jsx)("span",{className:"sidebar__top__icon ",children:Object(s.jsx)(ee.a,{})})]}),Object(s.jsxs)("div",{className:"sidebar__channels flex-1",children:[Object(s.jsxs)("div",{className:"sidebar__channelheaders text-gray-500 flex justify-between p-4",children:[Object(s.jsx)(ee.a,{}),Object(s.jsx)("h3",{children:"Text Channels"}),Object(s.jsx)(X.a,{onClick:function(){var e=prompt("Please Enter channel name : ");E.collection("channels").add({channelName:e})}})]}),Object(s.jsx)("div",{className:"sidebar__channellists text-gray-500 flex flex-col justify-items-start",children:a.map((function(e){var t=e.id,c=e.channel;return Object(s.jsx)(Q,{id:t,channel:c},t)}))})]}),Object(s.jsxs)("div",{className:"sidebar__voice flex justify-between items-center border-t-2 border-b-2 border-gray-500 text-green-500 h-32 px-2 py-1",children:[Object(s.jsx)("div",{className:"mr-1",children:Object(s.jsx)(je.a,{})}),Object(s.jsxs)("div",{className:"flex flex-col ",children:[Object(s.jsx)("h3",{children:"Voice Connected"}),Object(s.jsx)("p",{className:"text-gray-600",children:"Stream"})]}),Object(s.jsxs)("div",{className:"flex flex-col ml-1",children:[Object(s.jsx)(le.a,{}),Object(s.jsx)(re.a,{})]})]}),Object(s.jsxs)("div",{className:"sidebar__profile h-32 flex justify-between p-2 items-center",children:[Object(s.jsx)(I.a,{src:e.photo,onClick:function(){return B.signOut()},className:"mr-1"}),Object(s.jsxs)("div",{className:"text-white text-base",children:[Object(s.jsxs)("h3",{children:["@",e.displayName]}),Object(s.jsx)("p",{children:"#ThisisMyId"})]}),Object(s.jsxs)("div",{className:"flex justify-evenly flex-col items-center text-gray-600 ml-1",children:[Object(s.jsx)(ne.a,{}),Object(s.jsx)(ce.a,{})]})]})]})})};var be=function(){var e=Object(r.c)(Y),t=Object(r.b)();return Object(n.useEffect)((function(){B.onAuthStateChanged((function(e){t(e?q({uid:e.uid,photo:e.photoURL,email:e.email,displayName:e.displayName}):R())}))}),[t]),Object(s.jsx)(s.Fragment,{children:e?Object(s.jsxs)("div",{className:"app grid grid-cols-5 bg-gray-800 ",children:[Object(s.jsx)(de,{}),Object(s.jsx)(H,{})]}):Object(s.jsx)(K,{})})},xe=Object(T.a)({reducer:{user:G,app:U}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(r.a,{store:xe,children:Object(s.jsx)(be,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[75,1,2]]]);
//# sourceMappingURL=main.b34c4450.chunk.js.map